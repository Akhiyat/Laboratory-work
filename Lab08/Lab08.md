# Титульный лист

РОССИЙСКИЙ УНИВЕРСИТЕТ ДРУЖБЫ НАРОДОВ

Факультет физико-математических и естественных наук









**Лабораторная работа 8**

По дисциплине "Операционные системы"













Выполнил:

Студент группы НПВбм-01-19

Студенческий билет №: 1032193844 

Саидов Ахият Магомадович

Руководитель: Валиева Татьяна Рефатовна























Москва 2023



# Цель работы

Освоение основных возможностей командной оболочки Midnight Commander. Приобретение навыков практической работы по просмотру каталогов и файлов; манипуляций с ними.

# Начало работы

## Задание по mc

1. Изучим информацию о `mc`, вызвав в командной строке `man mc`.

   ![](https://github.com/Akhiyat/Laboratory-work/blob/main/Lab08/creencast/%D0%A0%D0%B8%D1%811.JPG?raw=true)

   _Рисунок 1_

2. Запустим из командной строки `mc`, изучим его структуру и меню.

   ![](https://github.com/Akhiyat/Laboratory-work/blob/main/Lab08/creencast/%D0%A0%D0%B8%D1%812.JPG?raw=true)

   _Рисунок 2_

3. Выполним несколько операций в `mc`, используя управляющие клавиши (операции  с панелями; выделение/отмена выделения файлов, копирование/перемещение файлов, получение информации о размере и правах доступа на файлы и/или каталоги и т.п.).

   ![](https://github.com/Akhiyat/Laboratory-work/blob/main/Lab08/creencast/%D0%A0%D0%B8%D1%813.JPG?raw=true)

   _Рисунок 3_

   Управляющие клавиши - это клавиши _F1-F10_.

4. Выполним основные команды меню левой (или правой) панели. Оценим степень подробности вывода информации о файлах.

   ![](https://github.com/Akhiyat/Laboratory-work/blob/main/Lab08/creencast/%D0%A0%D0%B8%D1%814.JPG?raw=true)

   _Рисунок 4_

   В строке имеются пять меню: _Левая панель, Файл, Команда, Настройки, Правая панель._

5. Используя возможности подменю _Файл_, выполним:

   * просмотр содержимого текстового файла - _F3_;

     ![](https://github.com/Akhiyat/Laboratory-work/blob/main/Lab08/creencast/%D0%A0%D0%B8%D1%815.JPG?raw=true)

     _Рисунок 5_

   * редактирование содержимого текстового файла (без сохранения результатов редактирования) - _F4_;

     ![](https://github.com/Akhiyat/Laboratory-work/blob/main/Lab08/creencast/%D0%A0%D0%B8%D1%816.JPG?raw=true)

     _Рисунок 6_

   * создание каталога - _F7_;

     ![](https://github.com/Akhiyat/Laboratory-work/blob/main/Lab08/creencast/%D0%A0%D0%B8%D1%817.JPG?raw=true)

     _Рисунок 7_

   * копирование в файлов в созданный каталог - _F5_.

     ![](https://github.com/Akhiyat/Laboratory-work/blob/main/Lab08/creencast/%D0%A0%D0%B8%D1%818.JPG?raw=true))

     _Рисунок 8_

6. С помощью соответствующих средств подменю _Команда_ осуществите:

   * поиск в файловой системе файла с заданными условиями (например, файла с расширением _.c_ или _.cpp_, содержащего строку _main_);

     ![](https://github.com/Akhiyat/Laboratory-work/blob/main/Lab08/creencast/%D0%A0%D0%B8%D1%819.JPG?raw=true)

     _Рисунок 9_

   * выбор и повторение одной из предыдущих команд;

     ![](https://github.com/Akhiyat/Laboratory-work/blob/main/Lab08/creencast/%D0%A0%D0%B8%D1%8110.JPG?raw=true)

     _Рисунок 10_

   * переход в домашний каталог;

     ![](https://github.com/Akhiyat/Laboratory-work/blob/main/Lab08/creencast/%D0%A0%D0%B8%D1%8111.JPG?raw=true)

     _Рисунок 11_

   * анализ файла меню и файла расширений

     ![](https://github.com/Akhiyat/Laboratory-work/blob/main/Lab08/creencast/%D0%A0%D0%B8%D1%8112.JPG?raw=true)

     _Рисунок 12_

7. Вызовем подменю _Настройки_ . Освоим операции, определяющие структуру экрана `mc` (_Full screen, Double Width, Show Hidden Files_ и т.д.).

   ![](https://github.com/Akhiyat/Laboratory-work/blob/main/Lab08/creencast/%D0%A0%D0%B8%D1%8113.JPG?raw=true)

   _Рисунок 13_

## Задание по встроенному редактору mc

1. Создадим текстовый файл _text.txt_ - _Shift + F4_;

   ![](https://github.com/Akhiyat/Laboratory-work/blob/main/Lab08/creencast/%D0%A0%D0%B8%D1%8114.JPG?raw=true)

   _Рисунок 14_

2. Откройте этот файл с помощью встроенного в `mc` редактора - _F3_;

   ![](https://github.com/Akhiyat/Laboratory-work/blob/main/Lab08/creencast/%D0%A0%D0%B8%D1%8115.JPG?raw=true)

   _Рисунок 15_

3. Вставим в открытый файл небольшой фрагмент текста, скопированный из любого другого файла или Интернета.

   ![](https://github.com/Akhiyat/Laboratory-work/blob/main/Lab08/creencast/%D0%A0%D0%B8%D1%8116.JPG?raw=true)

   _Рисунок 16_

4. Проделаем с текстом следующие манипуляции, используя горячие клавиши: 

   * Удалите строку текста - _Ctrl + Y_. 
   * Выделите фрагмент текста и скопируйте его на новую строку - _F3 (начало строки) > F3 (конец строки) > F5 (копирование) > F6 (на новую строку)_. 
   * Выделите фрагмент текста и перенесите его на новую строку - F3 (начало строки) > F3 (конец строки) > F6 (на новую строку). 
   * Сохраните файл - F2. 
   * Отмените последнее действие - _Ctrl + U_. 
   * Перейдите в конец файла (нажав комбинацию клавиш) и напишите некоторый текст - _Ctrl + End_. 
   * Перейдите в начало файла (нажав комбинацию клавиш) и напишите некоторый текст - _Ctrl + Home_. 
   * Сохраните и закройте файл - _Esc_.

5. Откроем файл с исходным текстом на некотором языке программирования (Java).

   ![](https://github.com/Akhiyat/Laboratory-work/blob/main/Lab08/creencast/%D0%A0%D0%B8%D1%8117.JPG?raw=true)

   _Рисунок 17_

6. Используя меню редактора, включим подсветку синтаксиса, если она не включена, или выключим, если она включена.

# Контрольные вопросы

1. Режим просмотра файлов используется для просмотра списка файлов. Существует четыре таких режима: _Full, Brief, Long и User_. 

   * В режиме _Full_ отображается имя файла, размер файла и время последней модификации. 

   * В режиме _Brief_ список файлов располагается в две колонки и состоит только из имён файлов (поэтому в этом режиме отображается наибольшее количество файлов, по сравнению с другими режимами). 
   * Режим _Long_ идентичен результату выполнения команды `ls -l`. В этом режиме панель занимает весь экран. 

2. Создать файл, удалить файл, переименовать файл, копировать файл, редактировать файл, прочитать содержимое файла.

3. * Список файлов, собственно, показывает список файлов.

   * Быстрый просмотр, показывает содержимое файла.

   * Информация – на панель выводятся сведения о файле и текущей файловой системе, расположенных на активной панели.

   * Дерево – выводиться структура дерева каталогов

   * Формат списка – редактировать отображение списка

   * Порядок сортировки – сортирует список

   * Фильтр – фильтрует файлы по заданному имени

4. Структура меню _Файл_ `mc`:

   * Просмотр – просмотр текущего файла

   * Просмотр вывода команды – функция запроса команды с параметрами

   * Правка – открывает текущий файл для его редактирования

   * Копирование – копирует файлы или каталоги в указанное место

   * Права доступа – позволяет изменить права доступа к одному или нескольким файлам/каталогам

   * Жесткая ссылка – позволяет создать жёсткую ссылку к текущему файлу

   * Символическая ссылка – позволяет создать символическую ссылку к файлу.

   * Владелец/группа – позволяет задать владельца и имя группы для одного или нескольких файлов/каталогов

   * Права (Расширенные) – позволяет изменить права доступа и владения для одного или нескольких файлов или каталогов

   * Переименование – переименовывает файл/каталог

   * Создание каталога – создает каталог

   * Удалить – удаляет файл/каталог

   * Выход – завершает работу MC

5. Структура меню _Команда_ `mc`:

   * Дерево каталогов — отображает структуру каталогов системы.

   * Поиск файла — выполняет поиск файлов по заданным параметрам.

   * Переставить панели — меняет местами левую и правую панели.

   * Сравнить каталоги ( _Ctrl-x d_ ) — сравнивает содержимое двух каталогов.

   * Размеры каталогов — отображает размер и время изменения каталога (по умолчанию в mc размер каталога корректно не отображается).

   * История командной строки — выводит на экран список ранее выполненных в

   оболочке команд.

   * Каталоги быстрого доступа ( _Ctrl-\_ ) — при вызове выполняется быстрая смена текущего каталога на один из заданного списка.

   * Восстановление файлов — позволяет восстановить файлы на файловых системах _ext2_ и _ext3_.

   * Редактировать файл расширений — позволяет задать с помощью определённого

   синтаксиса действия при запуске файлов с определённым расширением (например, какое программного обеспечение запускать для открытия или редактирования файлов с расширением _doc_ или _docx_).

   * Редактировать файл меню — позволяет отредактировать контекстное меню пользователя, вызываемое по клавише F2 .

   * Редактировать файл расцветки имён — позволяет подобрать оптимальную для

   пользователя расцветку имён файлов в зависимости от их типа.

6. Структура меню _Настройки_ `mc`:

   * Конфигурация — позволяет скорректировать настройки работы с панелями.
   * Внешний вид и Настройки панелей — определяет элементы (строка меню, командная строка, подсказки и прочее), отображаемые при вызове mc, а также геометрию расположения панелей и цветовыделение.
   * Биты символов — задаёт формат обработки информации локальным термина-
      лом.
   * Подтверждение — позволяет установить или убрать вывод окна с запросом подтверждения действий при операциях удаления и перезаписи файлов, а также при
     выходе из программы.
   * Распознание клавиш — диалоговое окно используется для тестирования функциональных клавиш, клавиш управления курсором и прочее.
   * Виртуальные ФС –– настройки виртуальной файловой системы: тайм-аут, пароль
      и прочее.

7. Название и характеристика встроенным командам `mc`:

   **name**  отображать имя файла.

   ​    **size**  отображать размер файла.

   ​    **bsize** отображать размер в альтернативной форме, при которой выводятся размеры файлов, а для каталогов выводится только надпись "ПОД-КАТ"  ("SUB-DIR")  или  "ВВЕРХ" ("UP--DIR")

   ​    **type**  отображать односимвольное поле типа. Этот символ может принимать значения и подмножества символов, выводимых командой **ls** **-****F**: ***** (asterisk) для исполняемыхфайлов, **/** (slash) для каталогов, **@** (at-sign) для ссылок (links), **=** (знак равенства) для сокетов (sockets), **-** дефис (hyphen) для байт-ориентированных устройств, **+** для блок-ориентированных устройств, **|** (pipe) для файлов типа FIFO, **~** (тильда) для символических ссылок на каталоги, **!** (восклицательный знак) для оборванных (stale) символических ссылок (ссылок, указывающих в никуда).

   ​    **mark**  Звездочка (asterisk) если файл помечен, пробел - если не помечен.

   ​    **mtime** время последней модификации файла.

   ​    **atime** время последнего доступа к файлу.

   ​    **ctime** время последнего изменения файла.

   ​    **perm**  строка, показывающая текущие права доступа к файлу.

   ​    **mode**  восьмеричное представление текущих прав доступа к файлу.

   ​    **nlink** число ссылок на данный файл.

   ​    **ngid**  идентификатор группы (GID, в цифровой форме).

   ​    **nuid**  идентификатор пользователя (UID, в цифровой форме).

   ​    **owner** владелец файла.

   ​    **group** группа, имеющая права на файл.

   ​    **inode** номер inode файла.

8. Название и характеристика командам встроенного редактора `mc`:

   * _Ctrl-y_ удалить строку
   * _Ctrl-u_ отмена последней операции
   * _Ins_ вставка/замена
   * _F7_ поиск (можно использовать регулярные выражения)
   * _Shift-F7_ повтор последней операции поиска
   * _F4_ замена
   * _F3_ первое нажатие — начало выделения, второе — окончание
      выделения
   * _F5_ копировать выделенный фрагмент
   * _F6_ переместить выделенный фрагмент
   * _F8_ удалить выделенный фрагмент
   * _F2_ записать изменения в файл
   * _F10_ выйти из редактора

9. Характеристика средств Midnight Commander, которые позволяют создавать меню, определяемые пользователем:

   * Строка главного меню появляется в верхней части экрана после нажатия клавиши F9 или щелчка мыши  по  верхней  рамке  экрана. Меню состоит из пяти пунктов: "Левая", "Файл", Команды", "Настройки" и "Правая" (в  английской  версии  соответственно  "Left",  "File",  "Command", "Options"  и  "Right").   При  выборе одного  из  этих пунктов появляется соответствующее выпадающее меню.
   * Меню  "Файл"  позволяет  выполнить  какие-то  действия  с  выбранным  файлом  или  группой помеченных файлов.
   * Меню  "Команды"  перечисляет  действия,  которые имеют более общий характер и не относятся только к выделенному в данный момент файлу или группе помеченных файлов.
   * Меню "Настройки" служит для задания ряда параметров, определяющих внешний вид и  поведение программы  Midnight  Commander. Один из пунктов этого меню служит для сохранения настроек, заданных пользователем.

10. Характеристика средств Midnight Commander, которые позволяют выполнять действия, определяемые пользователем, над текущим файлом:

    * _C-x c_  Запускает команду Chmod для подсвеченного файла или группы отмеченных файлов.

    * _C-x o_  Запускает команду Chown для подсвеченного файла или группы отмеченных файлов.

    * _C-x l_  Запускает команду создания жесткой ссылки.

    * _C-x s_  Запускает команду создания абсолютной символической ссылки.

    * _C-x v_  Запускает команду создания относительной символической ссылки.  Для более детальной информации о ссылках смотрите раздел Меню Файл

    * _C-x i_  Переводит пассивную панель в режим "Информация".

    * _C-x q_  Переводит пассивную панель в режим быстрого просмотра.

    * _C-x !_  Выполняется пункт меню "Критерий панелизации".

    * _C-x h_  Добавить имя каталога в "Каталоги быстрого доступа".

    * _M-!_    Выполняет  пункт меню "Просмотр вывода команды", который описан подробнее в разделе "Меню "Файл".

    * _M-?_    Вызов диалогового окна "Поиск файла".

    * _M-c_    Вызов диалогового окна "Быстрая смена каталога".

    * _C-o_    Если Midnight Commander запущен в консоли Linux или FreeBSD, или через  xterm,  вам будет  показан  вывод  предыдущей  команды.  При  этом  на  Linux-консоли  Midnight Commander использует встроенную программу  (cons.saver)  для  сохранения  выводимой информации и демонстрации ее на экране.
